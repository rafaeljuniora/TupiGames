<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuração do Aluno - TupiGames</title>
  <link
          href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap"
          rel="stylesheet"
  />
  <link href="/css/output.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <!-- Importa o estilo do sidebar do componente StudentHeader -->
  <style th:replace="~{Components/StudentHeader :: sidebar-style}"></style>
  <style>
    .jersey-10 {
        font-family: "Jersey 10", sans-serif;
    }

    .input-field {
        background-color: #FFFFFF;
        border: 1px solid #E2E8F0;
        border-radius: 0.5rem;
        padding: 0.75rem;
        width: 100%;
        margin-top: 0.5rem;
        transition: border-color 0.2s;
    }

    .input-field:focus {
        outline: none;
        border-color: #FFCD03;
        box-shadow: 0 0 0 3px rgba(255, 205, 3, 0.2);
    }

    .form-label {
        font-weight: 600;
        color: #4A5568;
        margin-bottom: 0.5rem;
        display: block;
    }

    .save-button {
        background-color: #10B981;
        color: white;
        border-radius: 0.5rem;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        transition: background-color 0.2s;
    }

    .save-button:hover {
        background-color: #059669;
    }

    .password-field-container {
        position: relative;
    }

    .password-toggle {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .edit-icon {
        margin-left: 0.5rem;
        cursor: pointer;
    }
  </style>
</head>
<body class="bg-[#F5E5C7]">
<!-- Inclusão do Header usando o fragmento do StudentHeader -->
<header th:replace="~{Components/StudentHeader :: header('configuracoes')}"></header>

<!-- Inclusão do Sidebar usando o fragmento do StudentHeader -->
<aside th:replace="~{Components/StudentHeader :: sidebar('configuracoes')}"></aside>

<!-- Main Content -->
<main class="pt-24 px-6 pb-16 max-w-4xl mx-auto">
  <h2 class="text-4xl text-center jersey-10 bg-gradient-to-r from-[#C26A45] to-[#A0522D] text-transparent bg-clip-text mb-8">
    Configuração do Aluno
  </h2>

  <div class="bg-white rounded-[50px] shadow-md p-8">
    <form th:action="@{/configuracoes/salvar}" method="post" th:object="${aluno}">
      <div class="mb-6">
        <label for="nome" class="form-label">Nome:</label>
        <input
                type="text"
                id="nome"
                name="nome"
                th:value="${aluno?.nome}"
                class="input-field"
                placeholder="Digite seu nome completo"
                required
        />
      </div>

      <div class="mb-6">
        <label for="senha" class="form-label">Senha:</label>
        <div class="password-field-container">
          <input
                  type="password"
                  id="senha"
                  name="senha"
                  th:value="${aluno?.senha}"
                  class="input-field pr-20"
                  placeholder="********"
                  required
          />
          <div class="password-toggle">
            <button type="button" id="togglePassword" class="text-gray-500 hover:text-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
              </svg>
            </button>
            <button type="button" class="edit-icon text-gray-500 hover:text-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div class="flex justify-end mt-8">
        <button type="submit" class="save-button">
          Salvar Alterações
        </button>
      </div>
    </form>
  </div>
</main>

<!-- Inclusão do script do sidebar do StudentHeader -->
<script th:replace="~{Components/StudentHeader :: sidebar-script}"></script>

<!-- Script para o toggle de senha -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
      const togglePassword = document.getElementById('togglePassword');
      const passwordField = document.getElementById('senha');

      if (togglePassword && passwordField) {
          togglePassword.addEventListener('click', function() {
              const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
              passwordField.setAttribute('type', type);

              // Change the eye icon
              if (type === 'text') {
                  this.innerHTML = `
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z" clip-rule="evenodd" />
                          <path d="M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z" />
                      </svg>
                  `;
              } else {
                  this.innerHTML = `
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                          <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                          <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                      </svg>
                  `;
              }
          });
      }
  });
</script>
</body>
</html>